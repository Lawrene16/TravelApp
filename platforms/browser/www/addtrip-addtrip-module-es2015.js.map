{"version":3,"sources":["./src/app/addtrip/addtrip.page.html","./src/app/addtrip/addtrip.module.ts","./src/app/addtrip/addtrip.page.scss","./src/app/addtrip/addtrip.page.ts"],"names":[],"mappings":"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","file":"addtrip-addtrip-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Post Trip</ion-title>\\n\\n    <ion-buttons (click)=\\\"uploadTrip()\\\" style=\\\"margin-right: 10px\\\" slot=\\\"end\\\">\\n      <div style=\\\"font-size: 16px; font-weight: 300; \\\">Save</div>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n\\n    <!-- Each option -->\\n    <div style=\\\"margin-top: 15px;\\\">\\n      <ion-label style=\\\"margin-left: 15px; opacity: 0.7;\\\">Select Country</ion-label>\\n      <ion-select #C (ionChange)=\\\"onChange(C.value)\\\"\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; margin-top: 10px; margin-right: 15px;padding: 15px;\\\"\\n        placeholder=\\\"Select One\\\">\\n        <ion-select-option [value]=\\\"country.country_code\\\" *ngFor=\\\"let country of countries;\\\">{{country.country_name}}\\n        </ion-select-option>\\n      </ion-select>\\n    </div>\\n\\n    <!-- Each option -->\\n    <!-- Each option -->\\n    <div style=\\\"margin-top: 15px;\\\">\\n      <ion-label style=\\\"margin-left: 15px; opacity: 0.7;\\\">Select Province</ion-label>\\n      <ion-select #D (ionChange)=\\\"onChange2(D.value)\\\"\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; margin-top: 10px; margin-right: 15px;padding: 15px;\\\"\\n        placeholder=\\\"Select One\\\">\\n        <ion-select-option [value]=\\\"state.id\\\" *ngFor=\\\"let state of states;\\\">{{state}}</ion-select-option>\\n      </ion-select>\\n    </div>\\n\\n\\n    <div style=\\\"margin-top: 25px;\\\">\\n      <ion-label style=\\\"margin-left: 20px; opacity: 0.7;\\\">Select City/Munucipality</ion-label>\\n      <ion-select\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; margin-top: 10px; margin-right: 15px;padding: 15px;\\\"\\n        placeholder=\\\"Select One\\\">\\n        <ion-select-option value=\\\"f\\\">Female</ion-select-option>\\n        <ion-select-option value=\\\"m\\\">Male</ion-select-option>\\n      </ion-select>\\n    </div>\\n\\n\\n    <div style=\\\"margin-top: 25px;\\\">\\n      <ion-label style=\\\"margin-left: 20px; opacity: 0.7;\\\">Select Date(from)</ion-label>\\n      <div\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; height: 45px; margin-top: 10px; margin-right: 15px;\\\">\\n        <ion-datetime [(ngModel)]=\\\"fromDate\\\" (ionChange)=\\\"validateButton($event)\\\" display-format=\\\"MMMM, D, YYYY\\\"\\n          picker-format=\\\"DD MM YYYY\\\"></ion-datetime>\\n      </div>\\n    </div>\\n\\n    <div style=\\\"margin-top: 25px;\\\">\\n      <ion-label style=\\\"margin-left: 20px; opacity: 0.7;\\\">Select Date(to)</ion-label>\\n      <div\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; height: 45px; margin-top: 10px; margin-right: 15px;\\\">\\n        <ion-datetime [(ngModel)]=\\\"toDate\\\" (ionChange)=\\\"validateButton($event)\\\" display-format=\\\"MMMM, D, YYYY\\\"\\n          picker-format=\\\"DD MM YYYY\\\"></ion-datetime>\\n      </div>\\n    </div>\\n\\n\\n\\n    <div style=\\\"margin-top: 25px;\\\">\\n      <ion-label style=\\\"margin-left: 20px; opacity: 0.7;\\\">Event Title</ion-label>\\n      <ion-input [(ngModel)]=\\\"eventTitle\\\"\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; height: 50px; padding-left: 10px; width: 93vw; margin-top: 10px; margin-right: 15px;\\\">\\n      </ion-input>\\n    </div>\\n\\n\\n    <div style=\\\"margin-top: 25px;\\\">\\n      <ion-label style=\\\"margin-left: 20px; opacity: 0.7;\\\">Tell us more about this trip</ion-label>\\n      <ion-textarea [(ngModel)]=\\\"aboutTrip\\\"\\n        style=\\\"border: 1px solid rgb(216,216,216); margin-left: 15px; padding-left: 10px; height: 150px; width: 93vw; margin-top: 10px; margin-right: 15px;\\\">\\n      </ion-textarea>\\n    </div>\\n\\n\\n\\n    <div style=\\\"margin-top: 25px;\\\" (click)=\\\"AccessGallery()\\\">\\n      <ion-label style=\\\"margin-left: 20px; opacity: 0.7;\\\">Upload your photo</ion-label>\\n\\n      <img [src]=\\\"base64TripPhoto\\\"\\n        style=\\\"border: 1px solid rgb(216,216,216); background-color: rgb(232,239,241); margin-left: 15px; height: 200px; width: 93vw; margin-top: 10px; margin-right: 15px;\\\">\\n\\n\\n    </div>\\n  </ion-list>\\n\\n\\n\\n\\n\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AddtripPage } from './addtrip.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: AddtripPage }])\n  ],\n  declarations: [AddtripPage]\n})\nexport class AddtripPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZHRyaXAvYWRkdHJpcC5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { ActionSheetController, LoadingController, ToastController } from '@ionic/angular';\nimport { TravelAppService } from '../travel-app.service';\nimport * as firebase from \"firebase\";\n\n@Component({\n  selector: 'app-addtrip',\n  templateUrl: './addtrip.page.html',\n  styleUrls: ['./addtrip.page.scss'],\n})\nexport class AddtripPage {\n\n  useruid;\n  bla = \"\";\n  base64TripPhoto = \"../../assets/browsephoto.png\";\n  aboutTrip = \"\";\n  city = \"Metro Manila\";\n  fromDate = \"\";\n  toDate = \"\";\n  eventTitle = \"\";\n  province = \"Mandaluyong\";\n\n  countries = [];\n  states = [];\n  cities = [];\n\n  constructor( public camera: Camera,\n    public actionSheetCtrl: ActionSheetController,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    public travelAppService: TravelAppService) { \n\n      // this.useruid = firebase.auth().currentUser.uid;\n      this.useruid = \"ER9ayHUaZHPuWcUS0yq2oG77NRg2\";\n\n      this.populateCountriesArray();\n\n      // this.populateStatesArray(\"AF\");\n      // this.travelAppService.fetchAllStates(\"NG\").then((states) =>{\n      //   // console.log(states);\n      //   this.states = states;\n      // });\n\n      // this.travelAppService.fetchAllCities(\"NG\", \"dfd\").then((cities) =>{\n      //   // console.log(cities);\n      //   this.cities = cities;\n      // });\n    }\n\n    onChange(selected){\n      this.populateStatesArray(selected)\n    }\n\n    onChange2(selected){\n      console.log(selected)\n    }\n\n    populateCountriesArray(){\n      this.travelAppService.fetchAllCountries().then((countries:any) =>{\n        for(var i = 0; i < Object.keys(countries).length; i++){\n          this.countries.push(countries[i])\n        }\n      });\n    }\n\n    populateStatesArray(country_code){\n      // this.travelAppService.fetchAllStates(country_code).then((states:any) =>{\n      //   console.log(states)\n      //   for(var i = 0; i < Object.keys(states).length; i++){\n      //     this.states.push(states[i])\n      //   }\n      // });\n\n      this.states = [{'label': \"dgdfgdfg\"}, {'label': \"dgdfgdfg\"}]\n      console.log(this.states)\n    }\n\n  validateButton(event){\n    console.log(this.parseDate(this.fromDate))\n  }\n\n  parseDate(date:any){\n    var year = date.slice(0, -25);\n    var month = date.slice(5, -22);\n    var day = date.slice(8, -19);\n    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\n    var newdate = months[month - 1] + ', ' + day + ', ' + year;\n\n    return newdate;\n    // console.log(newdate)\n    // console.log(date)\n  }\n\n  uploadTrip(){\n    this.loadingCtrl.create({message: \"Uploading your trip\"}).then((res) =>{\n      res.present();\n      this.travelAppService.addTrip(\n        this.useruid, this.aboutTrip, this.city, this.parseDate(this.fromDate), this.parseDate(this.toDate), this.eventTitle,\n        this.province, this.base64TripPhoto \n      ).then(() =>{\n        res.dismiss();\n        this.aboutTrip = \"\";\n        this.city = \"\";\n        this.fromDate = \"\";\n        this.toDate = \"\";\n        this.eventTitle = \"\";\n        this.base64TripPhoto = \"\";\n        this.province = \"\"\n\n        this.presentToast(\"Trip uploaded successfully\");\n      }).catch((err) =>{\n                res.dismiss()\n\n        console.log(err)\n      })\n    })\n  }\n\n  AccessGallery() {\n    this.camera.getPicture({\n        sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,\n        destinationType: this.camera.DestinationType.DATA_URL\n      }).then(\n        imageData => {\n          // this.loadingCtrl.create({message: \"Uploading photo\"}).then((load) =>{\n          //   load.present()\n              this.base64TripPhoto = \"data:image/jpeg;base64,\" + imageData;\n              // this.travelAppService.uploadTripPhoto(this.useruid, this.base64TripPhoto).then(() =>{\n              //   this.presentToast(\"Trip Photo Uploaded Successfully\")\n              //   load.dismiss()\n              // }).catch((err) =>{\n              //   this.presentToast(\"Trip Photo Not Uploaded\")\n              //   load.dismiss()\n              // });\n          // })  \n        },\n        err => {\n          console.log(err);\n        }\n      );\n  }\n\n  async presentToast(message) {\n    const toast = await this.toastCtrl.create({\n      message: message,\n      duration: 6000,\n      color: 'dark'\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":""}